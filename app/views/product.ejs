<!DOCTYPE html>
<html lang="en">

<head>

    <%- include("./layout/layout.css.ejs") %>
</head>

<body>

    <%- include("./layout/layout.header.ejs") %>

        <!-- DataTales Example -->
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <div class="row">
                    <div class="col-md-4">
                        <h6 class="m-0 font-weight-bold text-primary">Quản lý sản phẩm</h6>
                    </div>
                    <div class="col-md-4">

                    </div>
                    <div class="col-md-4">
                        <a style="text-align: right;" class="dropdown-item" href="#" data-toggle="modal"
                            data-target="#addcate">
                            <i class="fas fa-plus-square" style='font-size:20px; color: 
                        #4e73df;'></i> Add New
                        </a>
                    </div>
                </div>


            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Product Name</th>
                                <th>Date post</th>
                                <th>Image</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Option</th>
                            </tr>
                        </thead>

                        <tbody>
                            <% product_list.rows.forEach(function(product){ %>
                                <tr>
                                    <td>
                                        <%=product.productname %>
                                    </td>
                                    <td>

                                        <%=product.datepost %>
                                    </td>
                                    <td>
                                        <img src="<%=product.imageurl %>"
                                            style="width: 120px;" />
                                    </td>
                                    <td>

                                        <%=product.price %>
                                    </td>
                                    <td>

                                        <%=product.quantity %>
                                    </td>
                                    <td>
                                       
                                            <ul style="list-style: none;display: flex;">
                                                <li> <a  href="#" data-toggle="modal"
                                                        data-target="#detailcate<%=product.id %>">
                                                        <i class="fas fa-eye"
                                                            style='font-size:20px; color: lightsalmon;'></i> 
                                                    </a>
                                                </li>

                                                <li> <a  href="#" data-toggle="modal"
                                                        data-target="#updatecate<%=product.id %>">
                                                        <i class='fas fa-pencil-ruler'
                                                            style='font-size:20px; color: blue;'></i> 
                                                    </a>
                                                </li>
                                                <li> <a 
                                                        href="./delete_product/<%=product.id %>"
                                                        onclick="return confirm('Are you sure you want to delete this item?');"><i
                                                            class="fas fa-trash"
                                                            style='font-size:20px; color: 	#FF3333;'></i> </a>
                                                </li>
                                            </ul>
                                       
                                    </td>
                                </tr>
                              
                    
                    
                                
                                <% }); %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <% product_list.rows.forEach(function(product){ %>
        <div class="modal fade" id="detailcate<%=product.id %>" tabindex="-1" role="dialog"
            aria-labelledby="exampleModalLabel" aria-hidden="true" >
            <div class="modal-dialog" role="document">
                <div class="modal-content" style="width: 120%;">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Chi tiết thương hiệu</h5>
                        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <table class="table table-bordered">
                            <tbody>
                                <tr>
                                    <th>Producer Name</th>
                                    <td>
                                        <%=product.productname %>
                                    </td>

                                </tr>

                                <tr>
                                    <th>Description</th>
                                    <td>
                                        <%=product.description %>
                                    </td>

                                </tr>
                                <tr>
                                    <th>Parameter</th>
                                    <td>
                                        <%=product.parameter %>
                                    </td>

                                </tr>
                                <tr>
                                    <th>Guarantee</th>
                                    <td>
                                        <%=product.guarantee %>
                                    </td>

                                </tr>
                                <tr>
                                    <th>Date post</th>
                                    <td>
                                        <%=product.datepost %>
                                    </td>

                                </tr>
                                <tr>
                                    <th>Price</th>
                                    <td>
                                        <%=product.price %>
                                    </td>

                                </tr>
                                <tr>
                                    <th>Quantity</th>
                                    <td>
                                        <%=product.quantity %>
                                    </td>

                                </tr>
                                <tr>
                                    <th>Sale off</th>
                                    <td>
                                        <%=product.saleoff %>
                                    </td>

                                </tr>
                                <tr>
                                    <th>Image</th>
                                    <td>
                                        <img src="<%=product.imageurl %>"
                                            style="width: 120px;" />
                                    </td>
                                </tr>
                                <tr>
                                    <th>Status</th>
                                    <td>
                                        <%=product.status %>
                                    </td>

                                </tr>
                                <tr>
                                    <th>Mã danh mục</th>
                                    <td>
                                        <%=product.categoryId %>
                                    </td>

                                </tr>
                                <tr>
                                    <th>Mã thương hiệu</th>
                                    <td>
                                        <%=product.producerId %>
                                    </td>

                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
        </div>

        <form action="/product/update_product/<%=product.id %>" method="POST"
            enctype="application/x-www-form-urlencoded">
            <div class="modal fade" id="updatecate<%=product.id %>" tabindex="-1"
                role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">

                <div class="modal-dialog" role="document">
                    <div class="modal-content" style="width: 120%;">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Cập nhật thương hiệu
                            </h5>
                            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label for="exampleInputPassword1">Product Name</label>
                                <input type="text" class="form-control" name="productname" value="<%=product.productname%>" >
                            </div>
                            
                            <div class="form-group">
                                <label for="exampleInputPassword1">Description</label>                       
                                <input type="text" class="form-control" name="description" value="<%=product.description%>"/>                            
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Parameter</label>                       
                                <input type="text" class="form-control" name="parameter"  value="<%=product.parameter%>"/>                            
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Guarantee</label>
                                <input type="text" class="form-control" name="guarantee" value="<%=product.guarantee%>"/>
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Date post</label>
                                <input type="date" class="form-control" name="datepost" value="<%=product.datepost%>"/>
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Price</label>
                                <input type="number" class="form-control" name="price" value="<%=product.price%>"/>
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Quantity</label>
                                <input type="number" class="form-control" name="quantity" value="<%=product.quantity%>"/>
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Sale off</label>
                                <input type="number" class="form-control" name="saleoff" value="<%=product.saleoff%>"/>
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Image</label>
                                <input type="text" class="form-control" name="imageurl" value="<%=product.imageurl%>"/>
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Status</label>
                                <input type="text" class="form-control" name="status" value="<%=product.status%>"/>
        
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Category Name</label>
                                <input type="number" class="form-control" name="categoryId" value="<%=product.categoryId%>"/>
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Producer Name</label>
                                <input type="number" class="form-control" name="producerId" value="<%=product.producerId%>"/>
                            </div>
                            <!-- <div class="form-group">
                                <label for="exampleInputPassword1">Category Name</label>
                                <select name="categoryId">
                                    <% product_list.rows.forEach(function(category){ %>
                                        <option value="<%= category.id %>">
                                            <%= category.categoryname %>
                                        </option>
                                        <% }); %>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Producer Name</label>
                                <select name="producerid">
                                    <% product_list.rows.forEach(function(producer){ %>
                                        <option value="<%= producer.id %>">
                                            <%= producer.producername %>
                                        </option>
                                        <% }); %>
                                </select>
                            </div> -->
                            
                            <button type="submit" class="btn btn-primary">Create</button>&nbsp;&nbsp;&nbsp;&nbsp;                            
                            <a href="/product/list" class="btn btn-primary">Back</a>
                    </div>

                    </div>
                </div>
            </div>
        </form>
        <% }); %>

         
                <form action="/product/add_product" method="POST" enctype="application/x-www-form-urlencoded">

                    <div class="modal fade" id="addcate" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content" style="width: 120%;">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Thêm danh mục mới</h5>
                                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Product Name</label>
                                            <input type="text" class="form-control" name="productname" >
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Description</label>                       
                                            <input type="text" class="form-control" name="description" />                            
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Parameter</label>                       
                                            <input type="text" class="form-control" name="parameter"  />                            
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Guarantee</label>
                                            <input type="text" class="form-control" name="guarantee">
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Date post</label>
                                            <input type="date" class="form-control" name="datepost">
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Price</label>
                                            <input type="number" class="form-control" name="price">
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Quantity</label>
                                            <input type="number" class="form-control" name="quantity">
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Sale off</label>
                                            <input type="number" class="form-control" name="saleoff">
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Image</label>
                                            <input type="text" class="form-control" name="imageurl">
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Status</label>
                                            <input type="text" class="form-control" name="status">
                    
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Category Name</label>
                                            <input type="number" class="form-control" name="categoryId">
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Producer Name</label>
                                            <input type="number" class="form-control" name="producerId">
                                        </div>
                                        <!-- <div class="form-group">
                                            <label for="exampleInputPassword1">Category Name</label>
                                            <select name="categoryId">
                                                <% product_list.rows.forEach(function(category){ %>
                                                    <option value="<%= category.id %>">
                                                        <%= category.categoryname %>
                                                    </option>
                                                    <% }); %>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Producer Name</label>
                                            <select name="producerid">
                                                <% product_list.rows.forEach(function(producer){ %>
                                                    <option value="<%= producer.id %>">
                                                        <%= producer.producername %>
                                                    </option>
                                                    <% }); %>
                                            </select>
                                        </div> -->
                                        
                                        <button type="submit" class="btn btn-primary">Create</button>&nbsp;&nbsp;&nbsp;&nbsp;                            
                                        <a href="/product/list" class="btn btn-primary">Back</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>



                <%- include("./layout/layout.footer.ejs") %>
                    <%- include("./layout/layout.js.ejs") %>
</body>

</html>